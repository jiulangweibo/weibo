var FrameServer=function(b){var a=(function(){var d={};var e=[];d.inc=function(g,f){return true};d.register=function(h,f){var j=h.split(".");var i=d;var g=null;while(g=j.shift()){if(j.length){if(i[g]===undefined){i[g]={}}i=i[g]}else{if(i[g]===undefined){try{i[g]=f(d)}catch(m){e.push(m)}}}}};d.regShort=function(f,g){if(d[f]!==undefined){throw"["+f+"] : short : has been register"}d[f]=g};d.IE=/msie/i.test(navigator.userAgent);d.E=function(f){if(typeof f==="string"){return document.getElementById(f)}else{return f}};d.C=function(f){var g;f=f.toUpperCase();if(f=="TEXT"){g=document.createTextNode("")}else{if(f=="BUFFER"){g=document.createDocumentFragment()}else{g=document.createElement(f)}}return g};d.log=function(f){e.push("["+((new Date()).getTime()%100000)+"]: "+f)};d.getErrorLogInformationList=function(f){return e.splice(0,f||e.length)};return d})();$Import=a.inc;a.register("core.evt.addEvent",function(d){return function(e,h,g){var f=d.E(e);if(f==null){return false}h=h||"click";if((typeof g).toLowerCase()!="function"){return}if(f.addEventListener){f.addEventListener(h,g,false)}else{if(f.attachEvent){f.attachEvent("on"+h,g)}else{f["on"+h]=g}}return true}});a.register("core.util.scrollPos",function(d){return function(g){g=g||document;var e=g.documentElement;var f=g.body;return{top:Math.max(window.pageYOffset||0,e.scrollTop,f.scrollTop),left:Math.max(window.pageXOffset||0,e.scrollLeft,f.scrollLeft)}}});a.register("core.util.browser",function(n){var d=navigator.userAgent.toLowerCase();var q=window.external||"";var g,h,i,r,j;var f=function(e){var m=0;return parseFloat(e.replace(/\./g,function(){return(m++==1)?"":"."}))};try{if((/windows|win32/i).test(d)){j="windows"}else{if((/macintosh/i).test(d)){j="macintosh"}else{if((/rhino/i).test(d)){j="rhino"}}}if((h=d.match(/applewebkit\/([^\s]*)/))&&h[1]){g="webkit";r=f(h[1])}else{if((h=d.match(/presto\/([\d.]*)/))&&h[1]){g="presto";r=f(h[1])}else{if(h=d.match(/msie\s([^;]*)/)){g="trident";r=1;if((h=d.match(/trident\/([\d.]*)/))&&h[1]){r=f(h[1])}}else{if(/gecko/.test(d)){g="gecko";r=1;if((h=d.match(/rv:([\d.]*)/))&&h[1]){r=f(h[1])}}}}}if(/world/.test(d)){i="world"}else{if(/360se/.test(d)){i="360"}else{if((/maxthon/.test(d))||typeof q.max_version=="number"){i="maxthon"}else{if(/tencenttraveler\s([\d.]*)/.test(d)){i="tt"}else{if(/se\s([\d.]*)/.test(d)){i="sogou"}}}}}}catch(p){}var o={OS:j,CORE:g,Version:r,EXTRA:(i?i:false),IE:/msie/.test(d),OPERA:/opera/.test(d),MOZ:/gecko/.test(d)&&!/(compatible|webkit)/.test(d),IE5:/msie 5 /.test(d),IE55:/msie 5.5/.test(d),IE6:/msie 6/.test(d),IE7:/msie 7/.test(d),IE8:/msie 8/.test(d),IE9:/msie 9/.test(d),SAFARI:!/chrome\/([\d.]*)/.test(d)&&/\/([\d.]*) safari/.test(d),CHROME:/chrome\/([\d.]*)/.test(d),IPAD:/\(ipad/i.test(d),IPHONE:/\(iphone/i.test(d),ITOUCH:/\(itouch/i.test(d),MOBILE:/mobile/i.test(d)};return o});a.register("core.obj.parseParam",function(d){return function(g,f,e){var h,i={};f=f||{};for(h in g){i[h]=g[h];if(f[h]!=null){if(e){if(g.hasOwnProperty[h]){i[h]=f[h]}}else{i[h]=f[h]}}}return i}});a.register("core.dom.position",function(f){var d=function(j){var m,i,h,g,o,n;m=j.getBoundingClientRect();i=f.core.util.scrollPos();h=j.ownerDocument.body;g=j.ownerDocument.documentElement;o=g.clientTop||h.clientTop||0;n=g.clientLeft||h.clientLeft||0;return{l:parseInt(m.left+i.left-n,10)||0,t:parseInt(m.top+i.top-o,10)||0}};var e=function(h,g){var i;i=[h.offsetLeft,h.offsetTop];parent=h.offsetParent;if(parent!==h&&parent!==g){while(parent){i[0]+=parent.offsetLeft;i[1]+=parent.offsetTop;parent=parent.offsetParent}}if(f.core.util.browser.OPERA!=-1||(f.core.util.browser.SAFARI!=-1&&h.style.position=="absolute")){i[0]-=document.body.offsetLeft;i[1]-=document.body.offsetTop}if(h.parentNode){parent=h.parentNode}else{parent=null}while(parent&&!/^body|html$/i.test(parent.tagName)&&parent!==g){if(parent.style.display.search(/^inline|table-row.*$/i)){i[0]-=parent.scrollLeft;i[1]-=parent.scrollTop}parent=parent.parentNode}return{l:parseInt(i[0],10),t:parseInt(i[1],10)}};return function(i,g){if(i==document.body){return false}if(i.parentNode==null){return false}if(i.style.display=="none"){return false}var h=f.core.obj.parseParam({parent:null},g);if(i.getBoundingClientRect){if(h.parent){var m=d(i);var j=d(h.parent);return{l:m.l-j.l,t:m.t-j.t}}else{return d(i)}}else{return e(i,h.parent||document.body)}}});a.register("core.evt.getEvent",function(d){return function(){if(d.IE){return window.event}else{if(window.event){return window.event}var g=arguments.callee.caller;var f;var h=0;while(g!=null&&h<40){f=g.arguments[0];if(f&&(f.constructor==Event||f.constructor==MouseEvent||f.constructor==KeyboardEvent)){return f}h++;g=g.caller}return f}}});a.register("core.evt.preventDefault",function(d){return function(g){var f=g?g:d.core.evt.getEvent();if(d.IE){f.returnValue=false}else{f.preventDefault()}}});a.register("core.evt.stopEvent",function(d){return function(g){var f=g?g:d.core.evt.getEvent();if(d.IE){f.cancelBubble=true;f.returnValue=false}else{f.preventDefault();f.stopPropagation()}return false}});a.register("core.arr.isArray",function(d){return function(e){return Object.prototype.toString.call(e)==="[object Array]"}});a.register("core.str.trim",function(d){return function(h){if(typeof h!=="string"){throw"trim need a string as parameter"}var e=h.length;var g=0;var f=/(\u3000|\s|\t|\u00A0)/;while(g<e){if(!f.test(h.charAt(g))){break}g+=1}while(e>g){if(!f.test(h.charAt(e-1))){break}e-=1}return h.slice(g,e)}});a.register("core.json.queryToJson",function(d){return function(g,n){var p=d.core.str.trim(g).split("&");var o={};var f=function(i){if(n){return decodeURIComponent(i)}else{return i}};for(var j=0,m=p.length;j<m;j++){if(p[j]){var h=p[j].split("=");var e=h[0];var q=h[1];if(h.length<2){q=e;e="$nullName"}if(!o[e]){o[e]=f(q)}else{if(d.core.arr.isArray(o[e])!=true){o[e]=[o[e]]}o[e].push(f(q))}}}return o}});a.register("core.dom.isNode",function(d){return function(e){return(e!=undefined)&&Boolean(e.nodeName)&&Boolean(e.nodeType)}});a.register("core.dom.sizzle",function(p){var v=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,o=0,h=Object.prototype.toString,u=false,n=true;[0,0].sort(function(){n=false;return 0});var f=function(B,e,E,F){E=E||[];e=e||document;var H=e;if(e.nodeType!==1&&e.nodeType!==9){return[]}if(!B||typeof B!=="string"){return E}var C=[],y,J,M,x,A=true,z=f.isXML(e),G=B,I,L,K,D;do{v.exec("");y=v.exec(G);if(y){G=y[3];C.push(y[1]);if(y[2]){x=y[3];break}}}while(y);if(C.length>1&&q.exec(B)){if(C.length===2&&i.relative[C[0]]){J=m(C[0]+C[1],e)}else{J=i.relative[C[0]]?[e]:f(C.shift(),e);while(C.length){B=C.shift();if(i.relative[B]){B+=C.shift()}J=m(B,J)}}}else{if(!F&&C.length>1&&e.nodeType===9&&!z&&i.match.ID.test(C[0])&&!i.match.ID.test(C[C.length-1])){I=f.find(C.shift(),e,z);e=I.expr?f.filter(I.expr,I.set)[0]:I.set[0]}if(e){I=F?{expr:C.pop(),set:d(F)}:f.find(C.pop(),C.length===1&&(C[0]==="~"||C[0]==="+")&&e.parentNode?e.parentNode:e,z);J=I.expr?f.filter(I.expr,I.set):I.set;if(C.length>0){M=d(J)}else{A=false}while(C.length){L=C.pop();K=L;if(!i.relative[L]){L=""}else{K=C.pop()}if(K==null){K=e}i.relative[L](M,K,z)}}else{M=C=[]}}if(!M){M=J}if(!M){f.error(L||B)}if(h.call(M)==="[object Array]"){if(!A){E.push.apply(E,M)}else{if(e&&e.nodeType===1){for(D=0;M[D]!=null;D++){if(M[D]&&(M[D]===true||M[D].nodeType===1&&f.contains(e,M[D]))){E.push(J[D])}}}else{for(D=0;M[D]!=null;D++){if(M[D]&&M[D].nodeType===1){E.push(J[D])}}}}}else{d(M,E)}if(x){f(x,H,E,F);f.uniqueSort(E)}return E};f.uniqueSort=function(x){if(g){u=n;x.sort(g);if(u){for(var e=1;e<x.length;e++){if(x[e]===x[e-1]){x.splice(e--,1)}}}}return x};f.matches=function(e,x){return f(e,null,null,x)};f.find=function(D,e,E){var C;if(!D){return[]}for(var z=0,y=i.order.length;z<y;z++){var B=i.order[z],A;if((A=i.leftMatch[B].exec(D))){var x=A[1];A.splice(1,1);if(x.substr(x.length-1)!=="\\"){A[1]=(A[1]||"").replace(/\\/g,"");C=i.find[B](A,e,E);if(C!=null){D=D.replace(i.match[B],"");break}}}}if(!C){C=e.getElementsByTagName("*")}return{set:C,expr:D}};f.filter=function(H,G,K,A){var y=H,M=[],E=G,C,e,D=G&&G[0]&&f.isXML(G[0]);while(H&&G.length){for(var F in i.filter){if((C=i.leftMatch[F].exec(H))!=null&&C[2]){var x=i.filter[F],L,J,z=C[1];e=false;C.splice(1,1);if(z.substr(z.length-1)==="\\"){continue}if(E===M){M=[]}if(i.preFilter[F]){C=i.preFilter[F](C,E,K,M,A,D);if(!C){e=L=true}else{if(C===true){continue}}}if(C){for(var B=0;(J=E[B])!=null;B++){if(J){L=x(J,C,B,E);var I=A^!!L;if(K&&L!=null){if(I){e=true}else{E[B]=false}}else{if(I){M.push(J);e=true}}}}}if(L!==undefined){if(!K){E=M}H=H.replace(i.match[F],"");if(!e){return[]}break}}}if(H===y){if(e==null){f.error(H)}else{break}}y=H}return E};f.error=function(e){throw"Syntax error, unrecognized expression: "+e};var i={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")}},relative:{"+":function(C,x){var z=typeof x==="string",B=z&&!/\W/.test(x),D=z&&!B;if(B){x=x.toLowerCase()}for(var y=0,e=C.length,A;y<e;y++){if((A=C[y])){while((A=A.previousSibling)&&A.nodeType!==1){}C[y]=D||A&&A.nodeName.toLowerCase()===x?A||false:A===x}}if(D){f.filter(x,C,true)}},">":function(C,x){var A=typeof x==="string",B,y=0,e=C.length;if(A&&!/\W/.test(x)){x=x.toLowerCase();for(;y<e;y++){B=C[y];if(B){var z=B.parentNode;C[y]=z.nodeName.toLowerCase()===x?z:false}}}else{for(;y<e;y++){B=C[y];if(B){C[y]=A?B.parentNode:B.parentNode===x}}if(A){f.filter(x,C,true)}}},"":function(z,x,B){var y=o++,e=w,A;if(typeof x==="string"&&!/\W/.test(x)){x=x.toLowerCase();A=x;e=t}e("parentNode",x,y,z,A,B)},"~":function(z,x,B){var y=o++,e=w,A;if(typeof x==="string"&&!/\W/.test(x)){x=x.toLowerCase();A=x;e=t}e("previousSibling",x,y,z,A,B)}},find:{ID:function(x,y,z){if(typeof y.getElementById!=="undefined"&&!z){var e=y.getElementById(x[1]);return e?[e]:[]}},NAME:function(y,B){if(typeof B.getElementsByName!=="undefined"){var x=[],A=B.getElementsByName(y[1]);for(var z=0,e=A.length;z<e;z++){if(A[z].getAttribute("name")===y[1]){x.push(A[z])}}return x.length===0?null:x}},TAG:function(e,x){return x.getElementsByTagName(e[1])}},preFilter:{CLASS:function(z,x,y,e,C,D){z=" "+z[1].replace(/\\/g,"")+" ";if(D){return z}for(var A=0,B;(B=x[A])!=null;A++){if(B){if(C^(B.className&&(" "+B.className+" ").replace(/[\t\n]/g," ").indexOf(z)>=0)){if(!y){e.push(B)}}else{if(y){x[A]=false}}}}return false},ID:function(e){return e[1].replace(/\\/g,"")},TAG:function(x,e){return x[1].toLowerCase()},CHILD:function(e){if(e[1]==="nth"){var x=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(e[2]==="even"&&"2n"||e[2]==="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=(x[1]+(x[2]||1))-0;e[3]=x[3]-0}e[0]=o++;return e},ATTR:function(A,x,y,e,B,C){var z=A[1].replace(/\\/g,"");if(!C&&i.attrMap[z]){A[1]=i.attrMap[z]}if(A[2]==="~="){A[4]=" "+A[4]+" "}return A},PSEUDO:function(A,x,y,e,B){if(A[1]==="not"){if((v.exec(A[3])||"").length>1||/^\w/.test(A[3])){A[3]=f(A[3],null,null,x)}else{var z=f.filter(A[3],x,y,true^B);if(!y){e.push.apply(e,z)}return false}}else{if(i.match.POS.test(A[0])||i.match.CHILD.test(A[0])){return true}}return A},POS:function(e){e.unshift(true);return e}},filters:{enabled:function(e){return e.disabled===false&&e.type!=="hidden"},disabled:function(e){return e.disabled===true},checked:function(e){return e.checked===true},selected:function(e){e.parentNode.selectedIndex;return e.selected===true},parent:function(e){return !!e.firstChild},empty:function(e){return !e.firstChild},has:function(y,x,e){return !!f(e[3],y).length},header:function(e){return(/h\d/i).test(e.nodeName)},text:function(e){return"text"===e.type},radio:function(e){return"radio"===e.type},checkbox:function(e){return"checkbox"===e.type},file:function(e){return"file"===e.type},password:function(e){return"password"===e.type},submit:function(e){return"submit"===e.type},image:function(e){return"image"===e.type},reset:function(e){return"reset"===e.type},button:function(e){return"button"===e.type||e.nodeName.toLowerCase()==="button"},input:function(e){return(/input|select|textarea|button/i).test(e.nodeName)}},setFilters:{first:function(x,e){return e===0},last:function(y,x,e,z){return x===z.length-1},even:function(x,e){return e%2===0},odd:function(x,e){return e%2===1},lt:function(y,x,e){return x<e[3]-0},gt:function(y,x,e){return x>e[3]-0},nth:function(y,x,e){return e[3]-0===x},eq:function(y,x,e){return e[3]-0===x}},filter:{PSEUDO:function(y,D,C,E){var e=D[1],x=i.filters[e];if(x){return x(y,C,D,E)}else{if(e==="contains"){return(y.textContent||y.innerText||f.getText([y])||"").indexOf(D[3])>=0}else{if(e==="not"){var z=D[3];for(var B=0,A=z.length;B<A;B++){if(z[B]===y){return false}}return true}else{f.error("Syntax error, unrecognized expression: "+e)}}}},CHILD:function(e,z){var C=z[1],x=e;switch(C){case"only":case"first":while((x=x.previousSibling)){if(x.nodeType===1){return false}}if(C==="first"){return true}x=e;case"last":while((x=x.nextSibling)){if(x.nodeType===1){return false}}return true;case"nth":var y=z[2],F=z[3];if(y===1&&F===0){return true}var B=z[0],E=e.parentNode;if(E&&(E.sizcache!==B||!e.nodeIndex)){var A=0;for(x=E.firstChild;x;x=x.nextSibling){if(x.nodeType===1){x.nodeIndex=++A}}E.sizcache=B}var D=e.nodeIndex-F;if(y===0){return D===0}else{return(D%y===0&&D/y>=0)}}},ID:function(x,e){return x.nodeType===1&&x.getAttribute("id")===e},TAG:function(x,e){return(e==="*"&&x.nodeType===1)||x.nodeName.toLowerCase()===e},CLASS:function(x,e){return(" "+(x.className||x.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(B,z){var y=z[1],e=i.attrHandle[y]?i.attrHandle[y](B):B[y]!=null?B[y]:B.getAttribute(y),C=e+"",A=z[2],x=z[4];return e==null?A==="!=":A==="="?C===x:A==="*="?C.indexOf(x)>=0:A==="~="?(" "+C+" ").indexOf(x)>=0:!x?C&&e!==false:A==="!="?C!==x:A==="^="?C.indexOf(x)===0:A==="$="?C.substr(C.length-x.length)===x:A==="|="?C===x||C.substr(0,x.length+1)===x+"-":false},POS:function(A,x,y,B){var e=x[2],z=i.setFilters[e];if(z){return z(A,y,x,B)}}}};f.selectors=i;var q=i.match.POS,j=function(x,e){return"\\"+(e-0+1)};for(var s in i.match){i.match[s]=new RegExp(i.match[s].source+(/(?![^\[]*\])(?![^\(]*\))/.source));i.leftMatch[s]=new RegExp(/(^(?:.|\r|\n)*?)/.source+i.match[s].source.replace(/\\(\d+)/g,j))}var d=function(x,e){x=Array.prototype.slice.call(x,0);if(e){e.push.apply(e,x);return e}return x};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(r){d=function(A,z){var x=z||[],y=0;if(h.call(A)==="[object Array]"){Array.prototype.push.apply(x,A)}else{if(typeof A.length==="number"){for(var e=A.length;y<e;y++){x.push(A[y])}}else{for(;A[y];y++){x.push(A[y])}}}return x}}var g;if(document.documentElement.compareDocumentPosition){g=function(x,e){if(!x.compareDocumentPosition||!e.compareDocumentPosition){if(x==e){u=true}return x.compareDocumentPosition?-1:1}var y=x.compareDocumentPosition(e)&4?-1:x===e?0:1;if(y===0){u=true}return y}}else{if("sourceIndex" in document.documentElement){g=function(x,e){if(!x.sourceIndex||!e.sourceIndex){if(x==e){u=true}return x.sourceIndex?-1:1}var y=x.sourceIndex-e.sourceIndex;if(y===0){u=true}return y}}else{if(document.createRange){g=function(z,x){if(!z.ownerDocument||!x.ownerDocument){if(z==x){u=true}return z.ownerDocument?-1:1}var y=z.ownerDocument.createRange(),e=x.ownerDocument.createRange();y.setStart(z,0);y.setEnd(z,0);e.setStart(x,0);e.setEnd(x,0);var A=y.compareBoundaryPoints(Range.START_TO_END,e);if(A===0){u=true}return A}}}}f.getText=function(e){var x="",z;for(var y=0;e[y];y++){z=e[y];if(z.nodeType===3||z.nodeType===4){x+=z.nodeValue}else{if(z.nodeType!==8){x+=f.getText(z.childNodes)}}}return x};(function(){var x=document.createElement("div"),y="script"+(new Date()).getTime();x.innerHTML="<a name='"+y+"'/>";var e=document.documentElement;e.insertBefore(x,e.firstChild);if(document.getElementById(y)){i.find.ID=function(A,B,C){if(typeof B.getElementById!=="undefined"&&!C){var z=B.getElementById(A[1]);return z?z.id===A[1]||typeof z.getAttributeNode!=="undefined"&&z.getAttributeNode("id").nodeValue===A[1]?[z]:undefined:[]}};i.filter.ID=function(B,z){var A=typeof B.getAttributeNode!=="undefined"&&B.getAttributeNode("id");return B.nodeType===1&&A&&A.nodeValue===z}}e.removeChild(x);e=x=null})();(function(){var e=document.createElement("div");e.appendChild(document.createComment(""));if(e.getElementsByTagName("*").length>0){i.find.TAG=function(x,B){var A=B.getElementsByTagName(x[1]);if(x[1]==="*"){var z=[];for(var y=0;A[y];y++){if(A[y].nodeType===1){z.push(A[y])}}A=z}return A}}e.innerHTML="<a href='#'></a>";if(e.firstChild&&typeof e.firstChild.getAttribute!=="undefined"&&e.firstChild.getAttribute("href")!=="#"){i.attrHandle.href=function(x){return x.getAttribute("href",2)}}e=null})();if(document.querySelectorAll){(function(){var e=f,y=document.createElement("div");y.innerHTML="<p class='TEST'></p>";if(y.querySelectorAll&&y.querySelectorAll(".TEST").length===0){return}f=function(C,B,z,A){B=B||document;if(!A&&B.nodeType===9&&!f.isXML(B)){try{return d(B.querySelectorAll(C),z)}catch(D){}}return e(C,B,z,A)};for(var x in e){f[x]=e[x]}y=null})()}(function(){var e=document.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(!e.getElementsByClassName||e.getElementsByClassName("e").length===0){return}e.lastChild.className="e";if(e.getElementsByClassName("e").length===1){return}i.order.splice(1,0,"CLASS");i.find.CLASS=function(x,y,z){if(typeof y.getElementsByClassName!=="undefined"&&!z){return y.getElementsByClassName(x[1])}};e=null})();function t(x,C,B,F,D,E){for(var z=0,y=F.length;z<y;z++){var e=F[z];if(e){e=e[x];var A=false;while(e){if(e.sizcache===B){A=F[e.sizset];break}if(e.nodeType===1&&!E){e.sizcache=B;e.sizset=z}if(e.nodeName.toLowerCase()===C){A=e;break}e=e[x]}F[z]=A}}}function w(x,C,B,F,D,E){for(var z=0,y=F.length;z<y;z++){var e=F[z];if(e){e=e[x];var A=false;while(e){if(e.sizcache===B){A=F[e.sizset];break}if(e.nodeType===1){if(!E){e.sizcache=B;e.sizset=z}if(typeof C!=="string"){if(e===C){A=true;break}}else{if(f.filter(C,[e]).length>0){A=e;break}}}e=e[x]}F[z]=A}}}f.contains=document.compareDocumentPosition?function(x,e){return !!(x.compareDocumentPosition(e)&16)}:function(x,e){return x!==e&&(x.contains?x.contains(e):true)};f.isXML=function(e){var x=(e?e.ownerDocument||e:0).documentElement;return x?x.nodeName!=="HTML":false};var m=function(e,D){var z=[],A="",B,y=D.nodeType?[D]:D;while((B=i.match.PSEUDO.exec(e))){A+=B[0];e=e.replace(i.match.PSEUDO,"")}e=i.relative[e]?e+"*":e;for(var C=0,x=y.length;C<x;C++){f(e,y[C],z)}return f.filter(A,z)};return f});a.register("core.dom.contains",function(d){return function(e,f){if(e===f){return false}else{if(e.compareDocumentPosition){return((e.compareDocumentPosition(f)&16)===16)}else{if(e.contains&&f.nodeType===1){return e.contains(f)}else{while(f=f.parentNode){if(e===f){return true}}}}}return false}});a.register("core.evt.removeEvent",function(d){return function(f,h,g,e){var i=d.E(f);if(i==null){return false}if(typeof g!="function"){return false}if(i.removeEventListener){i.removeEventListener(h,g,e)}else{if(i.detachEvent){i.detachEvent("on"+h,g)}else{i["on"+h]=null}}return true}});a.register("core.evt.fixEvent",function(d){return function(f){f=f||d.core.evt.getEvent();if(!f.target){f.target=f.srcElement;f.pageX=f.x;f.pageY=f.y}if(typeof f.layerX=="undefined"){f.layerX=f.offsetX}if(typeof f.layerY=="undefined"){f.layerY=f.offsetY}return f}});a.register("core.obj.isEmpty",function(d){return function(h,g){var f=true;for(var e in h){if(g){f=false;break}else{if(h.hasOwnProperty(e)){f=false;break}}}return f}});a.register("core.func.empty",function(){return function(){}});a.register("core.evt.delegatedEvent",function(e){var d=function(j,h){for(var g=0,f=j.length;g<f;g+=1){if(e.core.dom.contains(j[g],h)){return true}}return false};return function(g,j){if(!e.core.dom.isNode(g)){throw"core.evt.delegatedEvent need an Element as first Parameter"}if(!j){j=[]}if(e.core.arr.isArray(j)){j=[j]}var f={};var i=function(r){var n=e.core.evt.fixEvent(r);var q=n.target;var p=r.type;var s=function(){var v,t,u;v=q.getAttribute("action-target");if(v){t=e.core.dom.sizzle(v,g);if(t.length){u=n.target=t[0]}}s=e.core.func.empty;return u};var m=function(){var t=s()||q;if(f[p]&&f[p][o]){return f[p][o]({evt:n,el:t,box:g,data:e.core.json.queryToJson(t.getAttribute("action-data")||"")})}else{return true}};if(d(j,q)){return false}else{if(!e.core.dom.contains(g,q)){return false}else{var o=null;while(q&&q!==g){o=q.getAttribute("action-type");if(o&&m()===false){break}q=q.parentNode}}}};var h={};h.add=function(o,p,n){if(!f[p]){f[p]={};e.core.evt.addEvent(g,p,i)}var m=f[p];m[o]=n};h.remove=function(m,n){if(f[n]){delete f[n][m];if(e.core.obj.isEmpty(f[n])){delete f[n];e.core.evt.removeEvent(g,n,i)}}};h.pushExcept=function(m){j.push(m)};h.removeExcept=function(o){if(!o){j=[]}else{for(var n=0,m=j.length;n<m;n+=1){if(j[n]===o){j.splice(n,1)}}}};h.clearExcept=function(m){j=[]};h.destroy=function(){for(k in f){for(l in f[k]){delete f[k][l]}delete f[k];e.core.evt.removeEvent(g,k,i)}};return h}});a.register("core.evt.custEvent",function(f){var d="__custEventKey__",g=1,h={},e=function(m,j){var i=(typeof m=="number")?m:m[d];return(i&&h[i])&&{obj:(typeof j=="string"?h[i][j]:h[i]),key:i}};return{define:function(p,n){if(p&&n){var m=(typeof p=="number")?p:p[d]||(p[d]=g++),o=h[m]||(h[m]={});n=[].concat(n);for(var j=0;j<n.length;j++){o[n[j]]||(o[n[j]]=[])}return m}},undefine:function(o,n){if(o){var m=(typeof o=="number")?o:o[d];if(m&&h[m]){if(n){n=[].concat(n);for(var j=0;j<n.length;j++){if(n[j] in h[m]){delete h[m][n[j]]}}}else{delete h[m]}}}},add:function(o,j,i,m){if(o&&typeof j=="string"&&i){var n=e(o,j);if(!n||!n.obj){throw"custEvent ("+j+") is undefined !"}n.obj.push({fn:i,data:m});return n.key}},once:function(o,j,i,m){if(o&&typeof j=="string"&&i){var n=e(o,j);if(!n||!n.obj){throw"custEvent ("+j+") is undefined !"}n.obj.push({fn:i,data:m,once:true});return n.key}},remove:function(q,o,n){if(q){var p=e(q,o),r,j;if(p&&(r=p.obj)){if(f.core.arr.isArray(r)){if(n){var m=0;while(r[m]){if(r[m].fn===n){break}m++}r.splice(m,1)}else{r.splice(0,r.length)}}else{for(var m in r){r[m]=[]}}return p.key}}},fire:function(m,s,q){if(m&&typeof s=="string"){var j=e(m,s),p;if(j&&(p=j.obj)){if(!f.core.arr.isArray(q)){q=q!=undefined?[q]:[]}for(var n=p.length-1;n>-1&&p[n];n--){var t=p[n].fn;var r=p[n].once;if(t&&t.apply){try{t.apply(m,[{type:s,data:p[n].data}].concat(q));if(r){p.splice(n,1)}}catch(o){f.log("[error][custEvent]"+o.message)}}}return j.key}}},destroy:function(){h={};g=1}}});a.register("core.str.parseURL",function(d){return function(g){var f=/^(?:([A-Za-z]+):(\/{0,3}))?([0-9.\-A-Za-z]+\.[0-9A-Za-z]+)?(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/;var n=["url","scheme","slash","host","port","path","query","hash"];var j=f.exec(g);var m={};for(var h=0,e=n.length;h<e;h+=1){m[n[h]]=j[h]||""}return m}});a.register("core.arr.indexOf",function(d){return function(g,h){if(h.indexOf){return h.indexOf(g)}for(var f=0,e=h.length;f<e;f++){if(h[f]===g){return f}}return -1}});a.register("core.arr.inArray",function(d){return function(e,f){return d.core.arr.indexOf(e,f)>-1}});a.register("core.json.merge",function(e){var d=function(g){if(g===undefined){return true}if(g===null){return true}if(e.core.arr.inArray(["number","string","function"],(typeof g))){return true}if(e.core.arr.isArray(g)){return true}if(e.core.dom.isNode(g)){return true}return false};var f=function(j,n,i){var m={};for(var h in j){if(n[h]===undefined){m[h]=j[h]}else{if(!d(j[h])&&!d(n[h])&&i){m[h]=arguments.callee(j[h],n[h])}else{m[h]=n[h]}}}for(var g in n){if(m[g]===undefined){m[g]=n[g]}}return m};return function(g,j,i){var h=e.core.obj.parseParam({isDeep:false},i);return f(g,j,h.isDeep)}});a.register("core.json.jsonToQuery",function(d){var e=function(g,f){g=g==null?"":g;g=d.core.str.trim(g.toString());if(f){return encodeURIComponent(g)}else{return g}};return function(m,h){var n=[];if(typeof m=="object"){for(var g in m){if(g==="$nullName"){n=n.concat(m[g]);continue}if(m[g] instanceof Array){for(var j=0,f=m[g].length;j<f;j++){n.push(g+"="+e(m[g][j],h))}}else{if(typeof m[g]!="function"){n.push(g+"="+e(m[g],h))}}}}if(n.length){return n.join("&")}else{return""}}});a.register("core.util.winSize",function(d){return function(f){var e,g;var i;if(f){i=f.document}else{i=document}if(i.compatMode==="CSS1Compat"){e=i.documentElement.clientWidth;g=i.documentElement.clientHeight}else{if(self.innerHeight){if(f){i=f.self}else{i=self}e=i.innerWidth;g=i.innerHeight}else{if(i.documentElement&&i.documentElement.clientHeight){e=i.documentElement.clientWidth;g=i.documentElement.clientHeight}else{if(i.body){e=i.body.clientWidth;g=i.body.clientHeight}}}}return{width:e,height:g}}});a.register("core.util.pageSize",function(d){return function(g){if(g){target=g.document}else{target=document}var m=(target.compatMode=="CSS1Compat"?target.documentElement:target.body);var j,f;var i,h;if(window.innerHeight&&window.scrollMaxY){j=m.scrollWidth;f=window.innerHeight+window.scrollMaxY}else{if(m.scrollHeight>m.offsetHeight){j=m.scrollWidth;f=m.scrollHeight}else{j=m.offsetWidth;f=m.offsetHeight}}var e=d.core.util.winSize(g);if(f<e.height){i=e.height}else{i=f}if(j<e.width){h=e.width}else{h=j}return{page:{width:h,height:i},win:{width:e.width,height:e.height}}}});a.register("core.util.getUniqueKey",function(f){var d=(new Date()).getTime().toString(),e=1;return function(){return d+(e++)}});a.register("kit.dom.layoutPos",function(d){return function(h,f,e){if(!d.isNode(f)){throw"kit.dom.layerOutElement need element as first parameter"}if(f===document.body){return false}if(!f.parentNode){return false}if(f.style.display==="none"){return false}var j,i,n,p,m,o,g;j=d.parseParam({pos:"left-bottom",offsetX:0,offsetY:0},e);i=f;if(!i){return false}while(i!==document.body){i=i.parentNode;if(i.style.display==="none"){return false}o=d.getStyle(i,"position");g=i.getAttribute("layout-shell");if(o==="absolute"||o==="fixed"){break}if(g==="true"&&o==="relative"){break}}i.appendChild(h);n=d.position(f,{parent:i});p={w:f.offsetWidth,h:f.offsetHeight};m=j.pos.split("-");if(m[0]==="left"){h.style.left=n.l+j.offsetX+"px"}else{if(m[0]==="right"){h.style.left=n.l+p.w+j.offsetX+"px"}else{if(m[0]==="center"){h.style.left=n.l+p.w/2+j.offsetX+"px"}}}if(m[1]==="top"){h.style.top=n.t+j.offsetY+"px"}else{if(m[1]==="bottom"){h.style.top=n.t+p.h+j.offsetY+"px"}else{if(m[1]==="middle"){h.style.top=n.t+p.h/2+j.offsetY+"px"}}}return true}});var c=a;c.isNode=c.core.dom.isNode;c.parseParam=c.core.obj.parseParam;c.getStyle=c.core.dom.getStyle;c.position=c.core.dom.position;c.addEvent=c.core.evt.addEvent;c.custEvent=c.core.evt.custEvent;c.removeEvent=c.core.evt.removeEvent;a.register("common.appframe.dataTransfer",function(d){return function(o){var h={};var n;var i;var g=0;var x=d.core.json.queryToJson;var m=d.core.json.jsonToQuery;var f=d.core.json.merge;d.custEvent.define(h,"message");var e=function(A){A=A||window.event;var B=unescape(A.data);var y=x(B);for(var z in y){if(!isNaN(y[z])){y[z]=(y[z]=="")?0:parseInt(y[z])}if(y[z]=="true"||y[z]=="false"){y[z]=y[z]=="true"}}d.custEvent.fire(h,"message",y)};h.sendMessage=function(z,y){if(y){z.inner=y}var A=m(z);A=escape(A);var B=o.node?o.node.contentWindow:window.parent;if(window.postMessage){B.postMessage(A,"*")}else{B.name=(new Date()).getTime()+(g++)+"^"+document.domain+"&"+window.escape(A)}};var w=function(y,D){var C="";var B="";function z(E){var F=E.split("^").pop().split("&");return{domain:F[0],data:window.unescape(F[1])}}function A(){var E=y[D];var F=z(E);if(x(unescape(F.data)).inner){if(E==B){return}B=E;e(F)}else{if(E!=C){C=E;e(F)}}}n=setInterval(A,1000/20)};var r=function(){if(window.postMessage){d.addEvent(window,"message",e)}else{w(window,"name")}};var q=function(){i=f({},o)};var p={};var s=function(y,z){if(!p[y]){p[y]=[]}p[y]=p[y].concat(z)};var j=function(C,z){var y=p[C];for(var B=0;B<y.length;B++){var A=y[B];if(A==z){y.splice(B,1)}}};var u=function(C,z){if(!C){for(var B in p){p[B]=[]}}else{if(!z){p[C]=[]}else{z=[].concat(z);for(var A=0;A<z.length;A++){var y=z[A];j(C,y)}}}};h.define=function(y){s(y,{reg:true})};h.undefine=function(y){u(y)};h.fireEvent=function(C,D){var z=p[C];if(!z){return}if(z.length==1&&z[0].reg){var B=D;B.type=C;B.reg=true;h.sendMessage(B,true);return}for(var A=0;A<z.length;A++){var y=z[A];y.apply(this,[{type:C},D])}};h.addEvent=s;h.removeEvent=u;var v=function(){clearInterval(n);n=null;d.custEvent.undefine(h,"message");d.removeEvent(window,"message")};var t=function(){q();r()};t();h.destroy=v;return h}});a.register("common.appframe.dataTransferV2",function(d){window.name="";return function(q){var i={};var o;var j;var h=0;var C=d.core.json.queryToJson;var n=d.core.json.jsonToQuery;var g=d.core.json.merge;var z=q.clientId;var s=function(D){window.setTimeout(function(){alert(D)},3000)};d.custEvent.define(i,"message");var f=function(F){F=F||window.event;var G=unescape(F.data);var D=C(G);for(var E in D){if(!isNaN(D[E])){D[E]=(D[E]=="")?0:parseInt(D[E])}if(D[E]=="true"||D[E]=="false"){D[E]=D[E]=="true"}}d.custEvent.fire(i,"message",D)};var B=[],e=false;var p=function(D){if(B.length>0){var E=B.shift(0);D.name=E}setTimeout(function(){p(D)},300)};i.sendMessage=function(H,D,G){if(D){H.inner=D}if(H.jump){H.jump=encodeURIComponent(decodeURIComponent(H.jump))}var F=H.scroll;var I=n(H);I=escape(I);var J=G?G.contentWindow:window.parent;if(window.postMessage){J.postMessage(I,"*")}else{var E=(new Date()).getTime()+(h++)+"^"+document.domain+"&"+window.escape(I);if(F){B=[E]}else{B.push(E)}if(!e){p(J)}e=true}};var A=function(D,I){var H="";var G="";function E(J){var L;L=J.split("^").pop().split("&");var K={domain:L[0],data:window.unescape(L[1])};return K}function F(){var J=D[I];var K=E(J);if(C(unescape(K.data)).inner){if(J==G){return}G=J;f(K)}else{if(J!=H){H=J;f(K)}}}o=setInterval(F,300)};var v=function(){if(window.postMessage){d.addEvent(window,"message",f)}else{A(window,"name")}};var t=function(){j=g({},q)};var r={};var u=function(D,E){if(!r[D]){r[D]=[]}r[D]=r[D].concat(E)};var m=function(H,E){var D=r[H];for(var G=0;G<D.length;G++){var F=D[G];if(F==E){D.splice(G,1)}}};var x=function(H,E){if(!H){for(var G in r){r[G]=[]}}else{if(!E){r[H]=[]}else{E=[].concat(E);for(var F=0;F<E.length;F++){var D=E[F];m(H,D)}}}};i.define=function(D){u(D,{reg:true})};i.undefine=function(D){x(D)};i.fireEvent=function(H,J,K,I){var E=r[H];if(!E){return}var G=J||{};if(E.length==1&&E[0].reg){G.type=H;G.reg=true;G.uniqueId=K;i.sendMessage(G,true,I);return}for(var F=0;F<E.length;F++){var D=E[F];D.apply(this,[{type:H},G])}};i.addEvent=u;i.removeEvent=x;var y=function(){clearInterval(o);o=null;d.custEvent.undefine(i,"message");d.removeEvent(window,"message")};var w=function(){t();v()};w();i.destroy=y;return i}});a.register("common.appframe.frameServer",function(d){if(d.core.util.browser.IE){window.name=""}return(function(){var j={};var n=d.core.json.merge;var q,m=0;var r=true;d.custEvent.define(j,["message","scroll","init","resize"]);var t=false;var o=function(v,w){if(!w.inner){q.fireEvent("message",w)}else{if(w.reg){var v=w.type;delete w.type;delete w.reg;delete w.inner;q.fireEvent(v,w);return}if(t&&w.unLogin){window.location.href="http://weibo.com/login.php?url="+window.location.href;return}if(w.scrollTop){if(d.core.util.browser.CHROME||d.core.util.browser.SAFARI){document.body.scrollTop=w.scrollTop}else{document.documentElement.scrollTop=w.scrollTop}}if(w.reload){setTimeout(function(){window.location.reload()},100);return}if(w.jump){var x=decodeURIComponent(w.jump);var u=a.core.str.parseURL(x).host;if(u.indexOf("weibo.com")>=0||u.indexOf("sina.com")>=0||u.indexOf("sina.cn")>=0){window.location.href=x;return}}if(w.init){t=true;d.log("init...",m,w);if(w.pageUrl){}d.custEvent.fire(j,"init",w)}if(w.initAll){r=false;q.fireEvent("init",w)}if(w.height){d.custEvent.fire(j,"resize",w)}}};var g=function(v){if(v){var u;u=v.height}};var f=function(u){d.custEvent.fire(j,"scroll",u)};j.sendMessage=function(w,u,v){q.sendMessage(w,u,v);return this};var h=function(){q=d.common.appframe.dataTransferV2({type:"server"});j.addEvent=q.addEvent;j.removeEvent=q.removeEvent;j.fireEvent=function(u,w,x,v){if(r){return}q.fireEvent(u,w,x,v)};j.define=q.define;j.undefine=q.undefine};var e=function(){d.custEvent.add(q,"message",o)};var i=function(){d.addEvent(window,"scroll",f)};var s=function(){h();e();i()};var p=function(){d.removeEvent(window,"scroll");d.custEvent.remove(q,"message");q.destroy();d.custEvent.undefine(j,"message");j.sendMessage=d.core.func.empty};s();j.destroy=p;return j})()});a.register("common.appframe.serverV2",function(d){return function(i,e){var n={};e=e||{};var p=d.common.appframe.frameServer;var q=d.core.json.merge;var t,o=d.core.util.getUniqueKey();d.log("init:::::",i,o);var j=i.src;i.setAttribute("iframeUrl",j);i.setAttribute("uniqueId",o);var r=d.core.json.jsonToQuery;var w=function(x){};var h=function(y,z){if(!z.height){return}d.log("server-----",parseInt(o),z.height);if(z){var x=z.height;var A=e.minHeight||600;if(x<A){return}i.style.height=x+"px"}};var g=function(z){var B=d.core.util.scrollPos();var x=d.core.util.pageSize().win;var y={scrollTop:B.top,scrollLeft:B.left};y=q(y,x);var A=d.core.dom.position(i);y.top=A.t;y.left=A.l;y.scroll=true;y.pageUrl=j;y.uniqueId=o;if(z.init){w("init server:"+r(z));d.log("SCROLLFUN",z);y.initBack=true;i.setAttribute("clientId",z.clientId);y.clientId=z.clientId;if(z.height){h(undefined,z)}}p.sendMessage(y,true,i)};n.sendMessage=function(x){x.pageUrl=j;x.uniqueId=o;p.sendMessage(x,false,i);return this};var v=function(x,y){d.log("initFun",y);w("initFun:"+arguments.callee.caller);g(y)};var m=function(){d.log(p);n.addEvent=p.addEvent;n.removeEvent=p.removeEvent;n.fireEvent=function(x,y){p.fireEvent(x,y,o,i)};n.define=p.define;n.undefine=p.undefine};var f=function(){d.custEvent.add(p,"init",v);d.custEvent.add(p,"resize",h);d.custEvent.add(p,"scroll",g)};var u=function(){m();f();p.sendMessage({init:true,pageUrl:j,uniqueId:o},true,i);n.addEvent("init",g)};var s=function(){n.sendMessage=d.core.func.empty};u();n.destroy=s;return n}});return c.common.appframe.serverV2(b)};